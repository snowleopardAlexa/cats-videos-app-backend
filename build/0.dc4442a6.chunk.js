(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2443:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(29)),i=a(n(30)),u=a(n(24)),l=a(n(15)),d=R(n(1)),f=a(n(2)),c=n(26),s=n(8),p=n(6),m=n(40),g=n(13),v=a(n(107)),y=a(n(405)),b=a(n(2578)),h=a(n(2587)),E=a(n(2588)),w=a(n(2486)),O=a(n(2487)),x=a(n(2589)),I=n(2512),_=a(n(2493)),M=a(n(791)),P=a(n(2591)),D=R(n(2592));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}var k=function(e){var t=e.currentEnvironment,n=e.deleteLayout,a=e.deleteLayouts,r=e.componentsAndModelsMainPossibleMainFields,f=e.history.push,j=e.plugins,R=e.slug,k=(0,c.useParams)(),C=k.componentSlug,S=k.type,T=(0,p.useGlobalContext)().emitEvent,L=(0,d.useReducer)(D.default,D.initialState),F=(0,l.default)(L,2),W=F[0],N=F[1],z=(0,d.useState)(!1),A=(0,l.default)(z,2),q=A[0],U=A[1],B=(0,d.useState)(!1),H=(0,l.default)(B,2),J=H[0],V=H[1],Z="content-types"===S?"col-8":"col-12",G=new AbortController,K=G.signal,Q=W.toJS(),X=Q.componentLayouts,Y=Q.isLoading,$=Q.initialData,ee=Q.metaToEdit,te=Q.modifiedData,ne=Q.metaForm,ae=(0,d.useMemo)((function(){return(0,s.get)(te,["schema","attributes"],{})}),[te]),re=(0,d.useMemo)((function(){return(0,s.get)(te,["schema","info","name"],"")}),[te]),oe=(0,d.useCallback)((function(){return(0,s.get)(te,["layouts","edit"],[])}),[te]),ie=(0,d.useCallback)((function(){return(0,s.get)(te,["layouts","editRelations"],[])}),[te]),ue=(0,d.useCallback)((function(e){if("relation"!==e&&"component"!==e)return[];var t="component"===e?"component":"targetModel",n=(0,s.get)(te,["schema","attributes",ee,t],"");return(0,s.get)(r,[n],[])}),[ee,r,te]);(0,d.useEffect)((function(){return function(){var e=(0,i.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.request)((0,y.default)("".concat(S,"/").concat(R||C)),{method:"GET",signal:K});case 3:t=e.sent,n=t.data,N({type:"GET_DATA_SUCCEEDED",data:n.contentType||n.component,componentLayouts:n.components}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),20!==e.t0.code&&strapi.notification.error("notification.error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),function(){G.abort()}}),[R,S,C]);var le=function(e){var t=e.target,n=t.name,a=t.value;N({type:"ON_CHANGE_META",keys:n.split("."),value:a})},de=function(){var e=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,s.cloneDeep)(te),(0,s.set)(t,"layouts.edit",(0,I.unformatLayout)(t.layouts.edit)),delete t.schema,delete t.uid,delete t.isComponent,delete t.category,delete t.apiID,e.next=10,(0,p.request)((0,y.default)("".concat(S,"/").concat(R||C)),{method:"PUT",body:t,signal:K});case 10:N({type:"SUBMIT_SUCCEEDED"}),R&&n(R),C&&a(),T("didEditEditSettings"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),strapi.notification.error("notification.error");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){U((function(e){return!e}))};return d.default.createElement(M.default,{attributes:ae,buttonData:function(){var e=ae,t=(0,s.get)(te,["metadatas"],{}),n=oe().reduce((function(e,t){return[].concat((0,u.default)(e),(0,u.default)(t.rowContent))}),[]);return Object.keys(e).filter((function(t){return"relation"!==(0,s.get)(e,[t,"type"],"")})).filter((function(e){return!0===(0,s.get)(t,[e,"edit","visible"],!1)})).filter((function(e){return-1===n.findIndex((function(t){return t.name===e}))}))}(),componentLayouts:X,goTo:f,isDraggingSibling:J,layout:oe(),metadatas:(0,s.get)(te,["metadatas"],{}),moveItem:function(e,t,n,a){N(n===a?{type:"REORDER_ROW",dragRowIndex:n,dragIndex:e,hoverIndex:t}:{type:"REORDER_DIFF_ROW",dragIndex:e,hoverIndex:t,dragRowIndex:n,hoverRowIndex:a})},moveRow:function(e,t){N({type:"MOVE_ROW",dragRowIndex:e,hoverRowIndex:t})},onAddData:function(e){N({type:"ON_ADD_DATA",name:e})},relationsLayout:ie(),removeField:function(e,t){N({type:"REMOVE_FIELD",rowIndex:e,fieldIndex:t})},setEditFieldToSelect:function(e){N({type:"SET_FIELD_TO_EDIT",name:e}),fe()},setIsDraggingSibling:V,selectedItemName:ee},d.default.createElement(O.default,{inputs:[{label:{id:"".concat(v.default,".containers.SettingPage.editSettings.entry.title")},description:{id:"".concat(v.default,".containers.SettingPage.editSettings.entry.title.description")},type:"select",name:"settings.mainField",customBootstrapClass:"col-md-4",selectOptions:["id"],didCheckErrors:!1,validations:{}}],initialData:$,isLoading:Y,modifiedData:te,name:re,onChange:function(e){var t=e.target,n=t.name,a=t.value;N({type:"ON_CHANGE",keys:n.split("."),value:a})},onConfirmReset:function(){N({type:"ON_RESET"})},onConfirmSubmit:de,slug:R||C,isEditSettings:!0},d.default.createElement("div",{className:"row"},d.default.createElement(E.default,{className:Z},d.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},d.default.createElement("div",null,d.default.createElement(h.default,{title:"".concat(v.default,".global.displayedFields"),description:"".concat(v.default,".containers.SettingPage.editSettings.description")})),d.default.createElement("div",{style:{marginTop:-6}},(0,_.default)("editSettingsView","left.links",j,t,R,f,{componentSlug:C,type:S,modifiedData:te})))),"components"!==S&&d.default.createElement(E.default,{className:"col-4"},d.default.createElement(h.default,{title:"".concat(v.default,".containers.SettingPage.relations"),description:"".concat(v.default,".containers.SettingPage.editSettings.description")})),d.default.createElement(b.default,{className:Z}),"components"!==S&&d.default.createElement(x.default,{addItem:function(e){N({type:"ADD_RELATION",name:e})},buttonData:function(){var e=ae,t=ie();return Object.keys(e).filter((function(t){return"relation"===(0,s.get)(e,[t,"type"],"")})).filter((function(e){return-1===t.indexOf(e)}))}(),moveItem:function(e,t){N({type:"MOVE_RELATION",dragIndex:e,hoverIndex:t})},removeItem:function(e){N({type:"REMOVE_RELATION",index:e})}}))),d.default.createElement(w.default,{headerId:"".concat(v.default,".containers.EditSettingsView.modal-form.edit-field"),isOpen:q,onClosed:function(){N({type:"UNSET_FIELD_TO_EDIT"})},onSubmit:function(e){e.preventDefault(),N({type:"SUBMIT_META_FORM"}),fe()},onToggle:fe,renderForm:function(){return Object.keys((0,s.get)(te,["metadatas",ee,"edit"],{})).filter((function(e){return"visible"!==e})).map((function(e,t){var n=(0,s.get)(ae,[ee,"type"]);return("dynamiczone"!==n||["label","description"].includes(e))&&("component"!==n&&"media"!==n||"label"===e)&&("json"!==n&&"boolean"!==n||"placeholder"!==e)?"richtext"===n&&"editable"===e?null:d.default.createElement("div",{className:"col-6",key:e},d.default.createElement(g.FormattedMessage,{id:"".concat(v.default,".containers.SettingPage.editSettings.entry.title.description")},(function(a){return d.default.createElement(g.FormattedMessage,{id:(0,s.get)((0,P.default)(e),"label.id","app.utils.defaultMessage")},(function(r){return d.default.createElement(m.Inputs,{autoFocus:0===t,description:"mainField"===e?a:"",label:r,name:e,type:(0,P.default)(e).type,onBlur:function(){},value:(0,s.get)(ne,e,""),onChange:le,options:ue(n)})}))}))):null}))},subHeaderContent:ee,type:(0,s.get)(ae,[ee,"type"],"")}))};k.defaultProps={slug:null},k.propTypes={currentEnvironment:f.default.string.isRequired,deleteLayout:f.default.func.isRequired,deleteLayouts:f.default.func.isRequired,componentsAndModelsMainPossibleMainFields:f.default.object.isRequired,history:f.default.shape({push:f.default.func}).isRequired,location:f.default.shape({search:f.default.string.isRequired}).isRequired,plugins:f.default.object.isRequired,slug:f.default.string};var C=k;t.default=C},2457:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  padding: 18px 30px 18px 30px;\n"])));t.default=i},2470:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  .btn-group button {\n    line-height: 28px;\n  }\n"])));t.default=i},2484:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=n(31),u=a(n(2485)),l=function(e){var t=e.children,n=e.componentUid,a=e.friendlyName,o=e.icon,l=e.onClick;return r.default.createElement(u.default,{onClick:function(e){e.preventDefault(),e.stopPropagation(),l(n)}},r.default.createElement("button",{className:"component-icon",type:"button"},r.default.createElement(i.FontAwesomeIcon,{icon:o})),r.default.createElement("div",{className:"component-uid"},r.default.createElement("span",null,a)),t)};l.defaultProps={children:null,friendlyName:"",onClick:function(){},icon:"smile"},l.propTypes={children:o.default.node,componentUid:o.default.string.isRequired,friendlyName:o.default.string,icon:o.default.string,onClick:o.default.func};var d=l;t.default=d},2485:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"])));t.default=i},2486:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=n(6),u=n(13),l=n(8),d=n(10),f=function(e){var t=e.headerId,n=e.isOpen,a=e.onClosed,o=e.onSubmit,f=e.onToggle,c=e.renderForm,s=e.subHeaderContent,p=e.type;return r.default.createElement(i.Modal,{isOpen:n,onClosed:a,onToggle:f},r.default.createElement(i.HeaderModal,null,r.default.createElement("section",null,r.default.createElement(i.HeaderModalTitle,{style:{textTransform:"none"}},r.default.createElement(d.AttributeIcon,{type:"timestamp"===p?"date":["decimal","float","integer","biginter"].includes(p)?"number":p,style:{margin:"auto 20px auto 0"}}),r.default.createElement(u.FormattedMessage,{id:t}))),r.default.createElement("section",null,r.default.createElement(i.HeaderModalTitle,null,r.default.createElement("span",null,(0,l.upperFirst)(s)),r.default.createElement("hr",null)))),r.default.createElement("form",{onSubmit:o},r.default.createElement(i.ModalForm,null,r.default.createElement(i.ModalBody,null,c())),r.default.createElement(i.ModalFooter,null,r.default.createElement("section",null,r.default.createElement(d.Button,{onClick:f,color:"cancel"},r.default.createElement(u.FormattedMessage,{id:"app.components.Button.cancel"})),r.default.createElement(d.Button,{type:"submit",color:"success"},r.default.createElement(u.FormattedMessage,{id:"form.button.done"}))))))};f.defaultProps={isOpen:!1,onClosed:function(){},onSubmit:function(){},onToggle:function(){},renderForm:function(){},subHeaderContent:"",type:""},f.propTypes={headerId:o.default.string.isRequired,isOpen:o.default.bool,onClosed:o.default.func,onSubmit:o.default.func,onToggle:o.default.func,renderForm:o.default.func,subHeaderContent:o.default.string,type:o.default.string};var c=f;t.default=c},2487:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(29)),i=a(n(30)),u=a(n(5)),l=a(n(24)),d=a(n(15)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),c=a(n(2)),s=n(8),p=n(26),m=n(13),g=n(40),v=n(6),y=a(n(107)),b=a(n(2488)),h=a(n(2457)),E=a(n(2490)),w=a(n(2492));function O(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var x=function(e){var t=e.children,n=e.history.goBack,a=e.displayedFields,r=e.inputs,c=e.initialData,p=e.isEditSettings,O=e.isLoading,x=e.modifiedData,I=e.onChange,_=e.onConfirmReset,M=e.onConfirmSubmit,P=e.name,D=(0,v.useGlobalContext)(),j=D.emitEvent,R=D.formatMessage,k=(0,f.useState)(!1),C=(0,d.default)(k,2),S=C[0],T=C[1],L=(0,f.useState)(!1),F=(0,d.default)(L,2),W=F[0],N=F[1],z=(0,f.useMemo)((function(){return(0,s.get)(x,["schema","attributes"],{})}),[x]),A=function(){return T((function(e){return!e}))},q=function(){return N((function(e){return!e}))},U={actions:[{color:"cancel",onClick:A,label:R({id:"app.components.Button.reset"}),type:"button",disabled:(0,s.isEqual)(x,c),style:{fontWeight:600,paddingLeft:15,paddingRight:15}},{color:"success",label:R({id:"".concat(y.default,".containers.Edit.submit")}),type:"submit",disabled:(0,s.isEqual)(x,c),style:{minWidth:150,fontWeight:600}}],title:{label:R({id:"".concat(y.default,".components.SettingsViewWrapper.pluginHeader.title")},{name:(0,s.upperFirst)(P)})},content:R({id:"".concat(y.default,".components.SettingsViewWrapper.pluginHeader.description.").concat(p?"edit":"list","-settings")})},B=function(e){return"settings.defaultSortBy"===e.name?["id"].concat((0,l.default)(a.filter((function(e){return"media"!==(0,s.get)(z,[e,"type"],"")&&"id"!==e&&"richtext"!==(0,s.get)(z,[e,"type"],"")})))):"settings.mainField"===e.name?Object.keys(z).filter((function(e){var t=(0,s.get)(z,[e,"type"],"");return!["json","text","relation","component","boolean","date","media","richtext"].includes(t)&&!!t})):e.options};return O?f.default.createElement(v.LoadingIndicatorPage,null):f.default.createElement(f.default.Fragment,null,f.default.createElement(v.BackHeader,{onClick:n}),f.default.createElement(h.default,{className:"container-fluid"},f.default.createElement("form",{onSubmit:function(e){e.preventDefault(),q(),j("willSaveContentTypeLayout")}},f.default.createElement(g.Header,U),f.default.createElement("div",{className:"row",style:{paddingTop:"3px"}},f.default.createElement(b.default,{style:{marginBottom:"13px",paddingBottom:"30px",paddingTop:"24px"}},f.default.createElement(E.default,{isSettings:!0}),f.default.createElement("div",{className:"row"},r.map((function(e){return f.default.createElement(m.FormattedMessage,{key:e.name,id:e.label.id},(function(t){return f.default.createElement("div",{className:e.customBootstrapClass},f.default.createElement(m.FormattedMessage,{id:(0,s.get)(e,"description.id","app.utils.defaultMessage")},(function(n){return f.default.createElement(g.Inputs,(0,u.default)({},e,{description:n,label:" "===t?null:t,onChange:I,options:B(e),value:(0,s.get)(x,e.name,"")}))})))}))})),f.default.createElement("div",{className:"col-12"},f.default.createElement(w.default,{style:{marginBottom:20}}))),f.default.createElement(E.default,null),t)),f.default.createElement(v.PopUpWarning,{isOpen:S,toggleModal:A,content:{message:"".concat(y.default,".popUpWarning.warning.cancelAllSettings")},popUpWarningType:"danger",onConfirm:function(){_(),A()}}),f.default.createElement(v.PopUpWarning,{isOpen:W,toggleModal:q,content:{message:"".concat(y.default,".popUpWarning.warning.updateAllSettings")},popUpWarningType:"danger",onConfirm:(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:q();case 3:case"end":return e.stop()}}),e)})))}))))};x.defaultProps={displayedFields:[],inputs:[],initialData:{},isEditSettings:!1,modifiedData:{},name:"",onConfirmReset:function(){},onConfirmSubmit:function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSubmit:function(){},pluginHeaderProps:{actions:[],description:{id:"app.utils.defaultMessage"},title:{id:"app.utils.defaultMessage",values:{}}}},x.propTypes={children:c.default.node.isRequired,displayedFields:c.default.array,history:c.default.shape({goBack:c.default.func.isRequired}).isRequired,initialData:c.default.object,inputs:c.default.array,isEditSettings:c.default.bool,isLoading:c.default.bool.isRequired,modifiedData:c.default.object,name:c.default.string,onChange:c.default.func.isRequired,onConfirmReset:c.default.func,onConfirmSubmit:c.default.func,onSubmit:c.default.func,pluginHeaderProps:c.default.shape({actions:c.default.array,description:c.default.shape({id:c.default.string}),title:c.default.shape({id:c.default.string,values:c.default.object})})};var I=(0,p.withRouter)(x);t.default=I},2488:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),i=a(n(2)),u=n(13),l=n(2489);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=function(e){return o.default.createElement("p",null,e)},c=function(e){var t=e.children,n=e.description,a=e.style,r=e.title;return o.default.createElement("div",{className:"col-md-12"},o.default.createElement(l.Wrapper,{style:a},o.default.createElement(l.Sub,null,!!r&&o.default.createElement("p",null,o.default.createElement(u.FormattedMessage,{id:r})),!!n&&o.default.createElement(u.FormattedMessage,{id:n},f)),t))};c.defaultProps={children:null,description:null,style:{},title:null},c.propTypes={children:i.default.any,description:i.default.string,style:i.default.object,title:i.default.string};var s=(0,o.memo)(c);t.default=s},2489:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=t.Sub=void 0;var r,o,i=a(n(4)),u=a(n(3)),l=u.default.div(r||(r=(0,i.default)(["\n  margin-bottom: 35px;\n  background: #ffffff;\n  padding: 22px 28px 18px;\n  padding-bottom: 13px;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  -webkit-font-smoothing: antialiased;\n"])));t.Wrapper=l;var d=u.default.div(o||(o=(0,i.default)(["\n  padding-top: 0px;\n  line-height: 18px;\n  > p:first-child {\n    margin-bottom: 1px;\n    font-weight: 700;\n    color: #333740;\n    font-size: 1.8rem;\n  }\n  > p {\n    color: #787e8f;\n    font-size: 13px;\n  }\n"])));t.Sub=d},2490:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),i=a(n(2)),u=n(13),l=a(n(107)),d=a(n(2491));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=function(e){var t=e.isSettings?"settings":"view",n="".concat(l.default,".containers.SettingPage.").concat(t);return o.default.createElement("div",{style:{marginBottom:"18px"}},o.default.createElement(u.FormattedMessage,{id:n},(function(e){return o.default.createElement(d.default,null,e)})))};c.propTypes={isSettings:i.default.bool},c.defaultProps={isSettings:!1};var s=(0,o.memo)(c);t.default=s},2491:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  color: #787e8f;\n  font-size: 11px;\n  font-weight: 700;\n  letter-spacing: 0.77px;\n  text-transform: uppercase;\n"])));t.default=i},2492:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  margin-top: 17px;\n  margin-bottom: 24px;\n  border-top: 1px solid #f6f6f6;\n"])));t.default=i},2493:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(24)),o=a(n(5)),i=a(n(1)),u=n(8),l=a(n(107)),d=function(e,t,n,a,d,f){for(var c=arguments.length,s=new Array(c>6?c-6:0),p=6;p<c;p++)s[p-6]=arguments[p];var m=Object.keys(n).reduce((function(c,p){var m=n[p],g=(0,u.get)(m,"injectedComponents",[]).filter((function(n){return n.plugin==="".concat(l.default,".").concat(e)&&n.area===t})).map((function(e){var t=e.component;return i.default.createElement(t,(0,o.default)({viewProps:s,currentEnvironment:a,getModelName:function(){return d},push:f},e.props,{key:e.key}))}));return[].concat((0,r.default)(c),(0,r.default)(g))}),[]);return m};t.default=d},2510:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),u=n(13),l=a(n(2)),d=n(51),f=n(39),c=a(n(790)),s=n(2579);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){var t=e.data,n=e.isRelation,a=e.onClick,r=e.pStyle,l=e.style,p=(0,i.useState)(!1),m=(0,o.default)(p,2),g=m[0],v=m[1];return i.default.createElement(s.Wrapper,{isOpen:g,notAllowed:0===t.length,style:l},i.default.createElement(f.ButtonDropdown,{isOpen:g,toggle:function(){t.length>0&&v((function(e){return!e}))}},i.default.createElement(f.DropdownToggle,null,i.default.createElement(u.FormattedMessage,{id:(0,c.default)("containers.SettingPage.".concat(n?"add.relational-field":"add.field"))},(function(e){return i.default.createElement("p",{style:r},i.default.createElement(d.Plus,{fill:"#007eff",height:"11px",width:"11px"}),e)}))),i.default.createElement(f.DropdownMenu,null,t.map((function(e){return i.default.createElement(f.DropdownItem,{key:e,onClick:function(){a(e)}},e)})))))}m.defaultProps={data:[],isRelation:!1,onClick:function(){},pStyle:{},style:{}},m.propTypes={data:l.default.array,isRelation:l.default.bool,onClick:l.default.func,pStyle:l.default.object,style:l.default.object};var g=(0,i.memo)(m);t.default=g},2511:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),u=n(8),l=a(n(2)),d=a(n(794)),f=a(n(798)),c=a(n(2582)),s=a(n(2583)),p=a(n(2584)),m=a(n(2585));function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var v=(0,i.forwardRef)((function(e,t){var n=e.goTo,a=e.componentUid,r=e.componentLayouts,l=e.dynamicZoneComponents,g=e.isDragging,v=e.label,y=e.name,b=e.onClickEdit,h=e.onClickRemove,E=e.selectedItem,w=e.showLeftCarret,O=e.showRightCarret,x=e.size,I=e.style,_=e.type,M="_TEMP_"===y,P=(0,i.useState)(!1),D=(0,o.default)(P,2),j=D[0],R=D[1],k=(0,i.useState)(!1),C=(0,o.default)(k,2),S=C[0],T=C[1],L=g?.2:1,F=12===x,W=F&&j?"none":"",N=F&&j?0:"100%",z=["json","text","file","media","component","richtext","dynamiczone"],A=z.includes(_)&&!j,q=(0,u.get)(r,[a],{}),U=(0,u.get)(q,["layouts","edit"],[]),B=function(e){return"".concat(1/12*e*100,"%")};return i.default.createElement("div",{style:{width:B(x)},onDrag:function(){F&&!j&&R(!0)},onDragEnd:function(){F&&R(!1)}},i.default.createElement(p.default,{ref:t.dropRef,withLongerHeight:A,style:I},j&&F&&i.default.createElement(f.default,{style:{marginRight:"-10px"}}),i.default.createElement(i.default.Fragment,null,w&&i.default.createElement(c.default,null),i.default.createElement("div",{className:"sub",style:{width:N,opacity:L}},i.default.createElement(d.default,{goTo:n,componentUid:a,isHidden:M,isOverDynamicZone:S,label:v,name:y,onClick:b,onRemove:h,ref:t.dragRef,selectedItem:E,style:{display:W,marginRight:0,paddingRight:0},type:_,withLongerHeight:A},"component"===_&&U.map((function(e,t){var n=t===U.length-1?"29px":"",a=0===t?"5px":"";return i.default.createElement("div",{style:{display:"flex",marginBottom:n,marginTop:a},key:t},e.map((function(e){var t=(0,u.get)(q,["schema","attributes",e.name,"type"],""),n=(0,u.get)(q,["metadatas",e.name,"edit","label"],"");return i.default.createElement("div",{key:e.name,style:{width:B(e.size),marginBottom:"6px"}},i.default.createElement(d.default,{label:n,name:e.name,isSub:!0,withLongerHeight:z.includes(t)}))})))})),"dynamiczone"===_&&i.default.createElement(s.default,null,l.map((function(e){var t,n=(t=e,(0,u.get)(r,[t,"schema","info"],{name:"",icon:""})),a=n.name,o=n.icon;return i.default.createElement(m.default,{key:e,componentUid:e,friendlyName:a,icon:o,setIsOverDynamicZone:T})}))))),O&&i.default.createElement(c.default,{right:!0}))))}));v.defaultProps={goTo:function(){},componentLayouts:{},componentUid:null,dynamicZoneComponents:[],isDragging:!1,label:"",onClickEdit:function(){},onClickRemove:function(){},selectedItem:"",showLeftCarret:!1,showRightCarret:!1,size:1,style:{},type:"string"},v.propTypes={goTo:l.default.func,componentLayouts:l.default.object,componentUid:l.default.string,dynamicZoneComponents:l.default.array,isDragging:l.default.bool,label:l.default.string,name:l.default.string.isRequired,onClickEdit:l.default.func,onClickRemove:l.default.func,selectedItem:l.default.string,showLeftCarret:l.default.bool,showRightCarret:l.default.bool,size:l.default.number,style:l.default.object,type:l.default.string},v.displayName="DraggedFieldWithPreview";var y=v;t.default=y},2512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unformatLayout=t.getRowSize=t.getInputSize=t.getFieldType=t.formatLayout=t.createLayout=void 0;var a=function(e){return e.reduce((function(e,t){return e+t.size}),0)};t.getRowSize=a;t.createLayout=function(e){return e.reduce((function(e,t,n){var a={rowId:n,rowContent:t};return e.concat(a)}),[])};t.formatLayout=function(e){return e.reduce((function(e,t){var n=[],r=t.rowContent.reduce((function(e,t){var r=a(e);return"_TEMP_"===t.name||(r+t.size<=12?e.push(t):n.push(t)),e}),[]),o=0===e.length?0:Math.max.apply(Math,e.map((function(e){return e.rowId})))+1,i=a(r);if(i<12&&r.push({name:"_TEMP_",size:12-i}),e.push({rowId:o,rowContent:r}),n.length>0){var u=a(n);u<12&&n.push({name:"_TEMP_",size:12-u}),e.push({rowId:o+1,rowContent:n}),n=[]}return e}),[]).filter((function(e){return e.rowContent.length>0})).filter((function(e){return 1!==e.rowContent.length||"_TEMP_"!==e.rowContent[0].name}))};t.unformatLayout=function(e){return e.reduce((function(e,t){var n=t.rowContent.filter((function(e){return"_TEMP_"!==e.name}));return e.concat([n])}),[])};t.getInputSize=function(e){switch(e){case"boolean":case"date":case"integer":case"float":case"biginteger":case"decimal":case"time":return 4;case"json":case"component":case"richtext":case"dynamiczone":return 12;default:return 6}};t.getFieldType=function(e,t){return e.getIn(["modifiedData","schema","attributes",t,"type"])}},2578:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),i=a(n(2)),u=n(8),l=a(n(789)),d=a(n(2510)),f=a(n(2470)),c=a(n(2580)),s=a(n(2581));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=function(e){var t=e.className,n=(0,l.default)(),a=n.attributes,r=n.buttonData,i=n.layout,p=n.moveItem,m=n.moveRow,g=n.onAddData,v=n.removeField,y=(0,o.useCallback)((function(e){return(0,u.get)(a,[e,"component"],"")}),[a]),b=(0,o.useCallback)((function(e){return(0,u.get)(a,[e],{}).type}),[a]),h=(0,o.useCallback)((function(e){return(0,u.get)(a,[e],{}).components||[]}),[a]);return o.default.createElement("div",{className:t},o.default.createElement(f.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},i.map((function(e,t){return o.default.createElement(c.default,{key:e.rowId,style:{}},e.rowContent.map((function(e,n){var a=e.name,r=e.size;return o.default.createElement(s.default,{componentUid:y(a),dynamicZoneComponents:h(a),itemIndex:n,key:a,moveRow:m,moveItem:p,name:a,removeField:v,rowIndex:t,size:r,type:b(a)})})))})),o.default.createElement(c.default,{style:{marginBottom:10}},o.default.createElement(d.default,{data:r,onClick:g,style:{width:"100%",margin:"0 5px"}}))))};m.defaultProps={className:"col-8"},m.propTypes={className:i.default.string};var g=(0,o.memo)(m);t.default=g},2579:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var o,i,u,l=a(n(4)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(3));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var c=d.default.div(o||(o=(0,l.default)(["\n  margin-left: 29px;\n  > div {\n    height: 30px;\n    width: 100%;\n    justify-content: space-between;\n    background: #ffffff;\n    color: #333740;\n    border-radius: 2px;\n    border: solid 1px #007eff;\n\n    > button {\n      cursor: pointer;\n      padding-left: 10px !important;\n      line-height: 30px;\n      width: 100%;\n      color: #333740;\n      text-align: left;\n      background-color: #ffffff;\n      border: none;\n      font-size: 13px;\n      font-weight: 500;\n      &:focus,\n      &:active,\n      &:hover,\n      &:visited {\n        background-color: transparent !important;\n        box-shadow: none;\n        color: #333740;\n      }\n      > p {\n        position: relative;\n        height: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-align: center;\n        margin-bottom: 0;\n        margin-top: -1px;\n        color: #007eff !important;\n        font-size: 13px !important;\n        svg {\n          fill: #007eff;\n          margin-right: 7px;\n          vertical-align: initial;\n        }\n      }\n    }\n    > div {\n      max-height: 180px;\n      min-width: calc(100% + 2px);\n      margin-left: -1px;\n      margin-top: -1px;\n      padding: 0;\n      border-top-left-radius: 0 !important;\n      border-top-right-radius: 0;\n      border-color: #e3e9f3 !important;\n      border-top-color: #aed4fb !important;\n      box-shadow: 0 2px 3px rgba(227, 233, 245, 0.5);\n\n      overflow: scroll;\n\n      button {\n        height: 30px;\n        padding-left: 10px !important;\n        line-height: 26px;\n        cursor: pointer;\n        font-size: 13px !important;\n        &:focus,\n        &:active,\n        &:hover,\n        &:hover {\n          background-color: #fafafb !important;\n          color: #333740;\n          outline: 0;\n        }\n        div {\n          margin: 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n  }\n\n  ","\n\n  ","\n"])),(function(e){if(e.isOpen)return(0,d.css)(i||(i=(0,l.default)(["\n        > div {\n          background-color: #e6f0fb !important;\n          border-color: #aed4fb !important;\n        }\n      "])))}),(function(e){if(e.notAllowed)return(0,d.css)(u||(u=(0,l.default)(["\n        > div {\n          > button {\n            cursor: not-allowed !important;\n          }\n        }\n      "])))}));t.Wrapper=c},2580:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  display: flex;\n  margin-bottom: 6px;\n"])));t.default=i},2581:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),u=n(118),l=n(280),d=a(n(2)),f=n(8),c=a(n(789)),s=a(n(2511)),p=a(n(403));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g=function(e){var t=e.componentUid,n=e.dynamicZoneComponents,a=e.itemIndex,r=e.moveItem,d=e.moveRow,m=e.name,g=e.removeField,v=e.rowIndex,y=e.size,b=e.type,h=(0,c.default)(),E=h.goTo,w=h.componentLayouts,O=h.metadatas,x=h.setEditFieldToSelect,I=h.selectedItemName,_=h.setIsDraggingSibling,M=(0,i.useRef)(null),P=(0,i.useRef)(null),D=(0,u.useDrop)({accept:p.default.EDIT_FIELD,hover:function(e,t){if(P.current&&12===e.size){var n=t.getItem().itemIndex,r=a,o=t.getItem().rowIndex,i=v;if(n!==r||o!==i){var u=P.current.getBoundingClientRect(),l=(u.bottom-u.top)/2,f=t.getClientOffset().y-u.top;o<i&&f<l||o>i&&f>l||(d(o,i),e.rowIndex=i,e.itemIndex=r)}}},drop:function(e,t){if(P.current){var n=t.getItem().itemIndex,o=a,i=t.getItem().rowIndex,u=v;if(12!==e.size&&(n!==o||i!==u)){var l=P.current.getBoundingClientRect();if(Math.abs(t.getClientOffset().x-l.left)>l.width/1.8)return r(n,o+1,i,u),e.itemIndex=o+1,void(e.rowIndex=u);r(n,o,i,u),e.itemIndex=o,e.rowIndex=u}}},collect:function(e){return{canDrop:e.canDrop(),clientOffset:e.getClientOffset(),isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0}),itemType:e.getItemType()}}}),j=(0,o.default)(D,2),R=j[0],k=R.clientOffset,C=R.isOver,S=j[1],T=(0,u.useDrag)({begin:function(){_(!0)},canDrag:function(){return"_TEMP_"!==m},collect:function(e){return{isDragging:e.isDragging(),getItem:e.getItem()}},end:function(){_(!1)},item:{type:p.default.EDIT_FIELD,itemIndex:a,rowIndex:v,name:m,size:y}}),L=(0,o.default)(T,3),F=L[0],W=F.isDragging,N=F.getItem,z=L[1],A=L[2];(0,i.useEffect)((function(){A((0,l.getEmptyImage)(),{captureDraggingState:!0})}),[A]);var q={dragRef:z(M),dropRef:S(P)},U=!1,B=!1;if(P.current&&k){var H=P.current.getBoundingClientRect();U=C&&12!==N.size&&Math.abs(k.x-H.left)<H.width/2,B=C&&12!==N.size&&Math.abs(k.x-H.left)>H.width/2,"_TEMP_"===m&&(U=C&&12!==N.size,B=!1)}return i.default.createElement(s.default,{goTo:E,componentUid:t,componentLayouts:w,dynamicZoneComponents:n,isDragging:W,label:(0,f.get)(O,[m,"edit","label"],""),name:m,onClickEdit:x,onClickRemove:function(e){e.stopPropagation(),g(v,a)},selectedItem:I,showLeftCarret:U,showRightCarret:B,size:y,type:b,ref:q})};g.defaultProps={componentUid:"",dynamicZoneComponents:[],type:"string"},g.propTypes={componentUid:d.default.string,dynamicZoneComponents:d.default.array,itemIndex:d.default.number.isRequired,moveItem:d.default.func.isRequired,moveRow:d.default.func.isRequired,name:d.default.string.isRequired,removeField:d.default.func.isRequired,rowIndex:d.default.number.isRequired,size:d.default.number.isRequired,type:d.default.string};var v=g;t.default=v},2582:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  position: absolute;\n  ","\n  height: 100%;\n  width: 2px;\n  margin-right: 3px;\n  border-radius: 2px;\n  background: #007eff;\n"])),(function(e){return e.right?"\n      right: -4px;\n    ":"\n    left: -1px;\n  "}));t.default=i},2583:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  display: flex;\n  margin: 5px 0 0px 0;\n  overflow: auto;\n  height: 119px;\n"])));t.default=i},2584:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)),u=a(n(2)),l=i.default.div(r||(r=(0,o.default)(["\n  display: flex;\n  position: relative;\n  min-height: ",";\n\n  .sub {\n    width: 100%;\n    padding: 0 5px;\n  }\n"])),(function(e){return e.withLongerHeight?"102px":"30px"}));l.defaultProps={withLongerHeight:!1},l.propTypes={withLongerHeight:u.default.bool};var d=l;t.default=d},2585:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(29)),i=a(n(30)),u=a(n(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),d=n(26),f=a(n(2)),c=n(6),s=a(n(107)),p=a(n(281)),m=a(n(2484)),g=a(n(2586));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=function(e){var t=e.componentUid,n=e.friendlyName,a=e.icon,r=e.setIsOverDynamicZone,f=(0,l.useState)(!1),v=(0,u.default)(f,2),y=v[0],b=v[1],h=(0,l.useState)({isLoading:!0,canAccess:!1}),E=(0,u.default)(h,2),w=E[0],O=w.isLoading,x=w.canAccess,I=E[1],_=(0,d.useHistory)().push,M=(0,c.useUser)();(0,l.useEffect)((function(){(function(){var e=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.hasPermissions)(M,p.default.componentsConfigurations);case 3:t=e.sent,I({isLoading:!1,canAccess:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I({isLoading:!1});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return l.default.createElement(m.default,{componentUid:t,friendlyName:n,icon:a,isOver:y,onClick:function(){!O&&x&&_("/plugins/".concat(s.default,"/ctm-configurations/edit-settings/components/").concat(t,"/"))},onMouseEvent:function(){r((function(e){return!e})),b((function(e){return!e}))},tradId:"components.DraggableAttr.edit"},l.default.createElement(g.default,{isOver:y},t))};y.defaultProps={friendlyName:"",icon:"smile"},y.propTypes={componentUid:f.default.string.isRequired,friendlyName:f.default.string,icon:f.default.string,setIsOverDynamicZone:f.default.func.isRequired};var b=y;t.default=b},2586:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  position: absolute;\n  bottom: -10px;\n  left: 105px;\n  visibility: ",";\n  line-height: 20px;\n  height: 20px;\n  padding: 0 10px;\n  background-color: #000000;\n  font-size: 12px;\n  color: #fff;\n  opacity: 0.5;\n  border: 1px solid #e3e9f3;\n  z-index: 99;\n"])),(function(e){return e.isOver?"visible":"hidden"}));t.default=i},2587:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),i=a(n(2)),u=n(13);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var d=function(e){var t=e.description,n=e.title;return o.default.createElement(o.default.Fragment,null,!!n&&o.default.createElement(u.FormattedMessage,{id:n}),!!t&&o.default.createElement(u.FormattedMessage,{id:t},(function(e){return o.default.createElement("p",null,e)})))};d.propTypes={description:i.default.string,title:i.default.string},d.defaultProps={description:null,title:null};var f=(0,o.memo)(d);t.default=f},2588:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n(4)),i=a(n(3)).default.div(r||(r=(0,o.default)(["\n  color: #333740;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 18px;\n\n  p {\n    margin-top: 2px;\n    margin-bottom: 13px;\n    color: #9ea7b8;\n    font-size: 12px;\n    font-weight: 400;\n    line-height: normal;\n  }\n"])));t.default=i},2589:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),i=a(n(2)),u=a(n(789)),l=a(n(2510)),d=a(n(2470)),f=a(n(2590));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var s=function(e){var t=e.addItem,n=e.buttonData,a=e.moveItem,r=e.removeItem,i=(0,u.default)().relationsLayout;return o.default.createElement("div",{className:"col-4"},o.default.createElement(d.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},i.map((function(e,t){return o.default.createElement(f.default,{index:t,key:e,move:a,name:e,removeItem:r})})),o.default.createElement(l.default,{data:n,isRelation:!0,onClick:t,style:{marginLeft:10,marginRight:10,marginBottom:13}})))};s.defaultProps={buttonData:[]},s.propTypes={addItem:i.default.func.isRequired,buttonData:i.default.array,moveItem:i.default.func.isRequired,removeItem:i.default.func.isRequired};var p=(0,o.memo)(s);t.default=p},2590:function(e,t,n){"use strict";var a=n(0),r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(1)),u=n(118),l=n(280),d=a(n(2)),f=n(8),c=a(n(789)),s=a(n(2511)),p=a(n(403));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g=function(e){var t=e.index,n=e.move,a=e.name,r=e.removeItem,d=(0,c.default)(),m=d.goTo,g=d.metadatas,v=d.selectedItemName,y=d.setEditFieldToSelect,b=d.setIsDraggingSibling,h=(0,i.useRef)(null),E=(0,i.useRef)(null),w=(0,u.useDrop)({accept:p.default.EDIT_RELATION,hover:function(e,a){if(E.current){var r=e.index,o=t;if(r!==o){var i=E.current.getBoundingClientRect(),u=(i.bottom-i.top)/2,l=a.getClientOffset().y-i.top;r<o&&l<u||r>o&&l>u||(n(r,o),e.index=o)}}}}),O=(0,o.default)(w,2)[1],x=(0,u.useDrag)({item:{type:p.default.EDIT_RELATION,id:a,name:a,index:t},begin:function(){b(!0)},end:function(){b(!1)},collect:function(e){return{isDragging:e.isDragging()}}}),I=(0,o.default)(x,3),_=I[0].isDragging,M=I[1],P=I[2];(0,i.useEffect)((function(){P((0,l.getEmptyImage)(),{captureDraggingState:!1})}),[P]);var D={dragRef:M(h),dropRef:O(E)};return i.default.createElement(s.default,{isDragging:_,label:(0,f.get)(g,[a,"edit","label"],""),name:a,onClickEdit:function(){return y(a)},onClickRemove:function(e){e.stopPropagation(),r(t)},push:m,ref:D,selectedItem:v,size:12,style:{marginBottom:6,paddingLeft:5,paddingRight:5},type:"relation",i:0===t})};g.defaultProps={move:function(){}},g.propTypes={index:d.default.number.isRequired,move:d.default.func,name:d.default.string.isRequired,removeItem:d.default.func.isRequired};var v=g;t.default=v},2591:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(107)),o=function(e){var t;switch(e){case"description":case"label":case"placeholder":t="text";break;case"mainField":t="select";break;case"editable":t="bool";break;default:t=""}return{type:t,label:{id:"mainField"===e?"".concat(r.default,".containers.SettingPage.editSettings.entry.title"):"".concat(r.default,".form.Input.").concat(e)}}};t.default=o},2592:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=a(n(24)),o=n(50),i=n(8),u=n(2512),l=(0,o.fromJS)({fieldForm:{},componentLayouts:{},metaToEdit:"",initialData:{},isLoading:!0,metaForm:{},modifiedData:{}});t.initialState=l;var d=function(e,t){var n=["modifiedData","layouts","edit"],a=["modifiedData","layouts","editRelations"];switch(t.type){case"ADD_RELATION":return e.updateIn(a,(function(e){return e.push(t.name)}));case"GET_DATA_SUCCEEDED":var l=(0,i.cloneDeep)(t.data);return(0,i.set)(l,["layouts","edit"],(0,u.formatLayout)((0,u.createLayout)(l.layouts.edit))),e.update("componentLayouts",(function(){return(0,o.fromJS)(t.componentLayouts)})).update("initialData",(function(){return(0,o.fromJS)(l||{})})).update("isLoading",(function(){return!1})).update("modifiedData",(function(){return(0,o.fromJS)(l||{})}));case"MOVE_RELATION":return e.updateIn(a,(function(n){return n.delete(t.dragIndex).insert(t.hoverIndex,e.getIn([].concat(a,[t.dragIndex])))}));case"MOVE_ROW":return e.updateIn(n,(function(a){return a.delete(t.dragRowIndex).insert(t.hoverRowIndex,e.getIn([].concat(n,[t.dragRowIndex])))}));case"ON_ADD_DATA":var d=(0,u.getInputSize)(e.getIn(["modifiedData","schema","attributes",t.name,"type"])),f=e.getIn(n).size,c=e.getIn(n).updateIn([f-1,"rowContent"],(function(e){return e?e.push({name:t.name,size:d}):(0,o.fromJS)([{name:t.name,size:d}])})),s=(0,u.formatLayout)(c.toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(s)}));case"ON_CHANGE":return e.updateIn(["modifiedData"].concat((0,r.default)(t.keys)),(function(){return t.value}));case"ON_CHANGE_META":return e.updateIn(["metaForm"].concat((0,r.default)(t.keys)),(function(){return t.value}));case"ON_RESET":return e.update("modifiedData",(function(){return e.get("initialData")}));case"REMOVE_FIELD":var p,m=e.getIn([].concat(n,[t.rowIndex,"rowContent"]));p=1===m.size||2===m.size&&"_TEMP_"===m.getIn([1,"name"])?e.updateIn(n,(function(e){return e.delete(t.rowIndex)})):e.updateIn([].concat(n,[t.rowIndex,"rowContent"]),(function(e){return e.delete(t.fieldIndex)}));var g=(0,o.fromJS)((0,u.formatLayout)(p.getIn(n).toJS()));return e.updateIn(n,(function(){return g}));case"REMOVE_RELATION":return e.updateIn(a,(function(e){return e.delete(t.index)}));case"REORDER_DIFF_ROW":var v=e.updateIn([].concat(n,[t.dragRowIndex,"rowContent"]),(function(e){return e.remove(t.dragIndex)})).updateIn([].concat(n,[t.hoverRowIndex,"rowContent"]),(function(a){return a.insert(t.hoverIndex,e.getIn([].concat(n,[t.dragRowIndex,"rowContent",t.dragIndex])))})),y=(0,u.formatLayout)(v.getIn(n).toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(y)}));case"REORDER_ROW":var b=e.updateIn([].concat(n,[t.dragRowIndex,"rowContent"]),(function(e){return e.delete(t.dragIndex).insert(t.hoverIndex,e.get(t.dragIndex))})),h=(0,u.formatLayout)(b.getIn(n).toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(h)}));case"SET_FIELD_TO_EDIT":return e.update("metaToEdit",(function(){return t.name})).updateIn(["metaForm"],(function(){return e.getIn(["modifiedData","metadatas",t.name,"edit"])}));case"SUBMIT_META_FORM":var E=["modifiedData","metadatas",e.get("metaToEdit"),"edit"];return e.updateIn(E,(function(){return e.getIn(["metaForm"])}));case"SUBMIT_SUCCEEDED":return e.update("initialData",(function(){return e.get("modifiedData")}));case"UNSET_FIELD_TO_EDIT":return e.update("metaToEdit",(function(){return""})).update("metaForm",(function(){return(0,o.fromJS)({})}));default:return e}};t.default=d}}]);